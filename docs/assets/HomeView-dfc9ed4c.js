import{_ as M,u as V,a as L,r as _,b as z,o as I,c as F,d as a,e as l,f as k,g as o,F as f,h as D,i as v,w as H,t as h,n as B}from"./index-152bc125.js";import{H as G}from"./bootstrap.bundle-16b515f7.js";import"./api-service-4751efbb.js";import{_ as J}from"./previous-02f03db4.js";const N="/assets/img/carousel_prev.png",E="/assets/img/carousel_next.png",K={components:{Header:G},setup(){V();const{t:A,locale:e}=L(),y=_([]),t=_([]),w=_([]),x=_([2,3,8,7,10,12,15,18,21,24]),g=_(1),m=_([51,53,55,57,59,62,65,68,72,70]),s=_(1),u=_([81,83,85,87,89,92,95,96,93,91]),C=_(1);z();const j=async()=>{try{const n=await fetch("/data/bar.json");if(!n.ok)throw new Error("Network response was not ok");let r=await n.json();x.value.forEach(i=>{y.value.push(r.find(c=>c.id==i))}),m.value.forEach(i=>{t.value.push(r.find(c=>c.id==i))}),u.value.forEach(i=>{w.value.push(r.find(c=>c.id==i))})}catch(n){console.error("There was a problem with the fetch operation:",n)}},R=n=>{const r=document.getElementById(n),i=275,c=300;switch(n){case"northShop":g.value++;break;case"midShop":s.value++;break;case"southShop":C.value++;break}const p=b=>{d||(d=b);const T=b-d,S=Math.min(T/c,1),P=i*S;r.scrollTo({left:r.scrollLeft+P,behavior:"smooth"}),S<1?requestAnimationFrame(p):d=null};let d=null;requestAnimationFrame(p)},q=n=>{const r=document.getElementById(n),i=275,c=300;switch(n){case"northShop":g.value--;break;case"midShop":s.value--;break;case"southShop":C.value--;break}const p=b=>{d||(d=b);const T=b-d,S=Math.min(T/c,1),P=i*S;r.scrollTo({left:r.scrollLeft-P,behavior:"smooth"}),S<1?requestAnimationFrame(p):d=null};let d=null;requestAnimationFrame(p)};return I(()=>{j()}),{t:A,locale:e,northShopData:y,midShopData:t,southShopData:w,northShopHighlight:x,midShopHighlight:m,southShopHighlight:u,scrollToNextSlide:R,scrollToPrevSlide:q,northPage:g,midPage:s,southPage:C}}},O={id:"index"},Q=o("div",{class:"container",id:"banner"},null,-1),U={class:"container",id:"bars"},W={class:"row"},X=o("div",{class:"col-12 px-5 topBarTitle"},[o("h4",null,"本月主打星店家")],-1),Y=o("div",{class:"col-12 px-5 areaHeading"},[o("h5",null,"北部店家")],-1),Z={id:"carouselNorth"},$={class:"barContainer"},oo={class:"barRow",id:"northShop"},so={class:"octagonBar"},to={class:"title"},eo={class:"bar_title"},ao={class:"bar_address"},lo={class:"carousel-control-prev"},no={key:0,src:E},ro=o("div",{class:"col-12 px-5 areaHeading"},[o("h5",null,"中部店家")],-1),io={id:"carouselMid",class:"carousel slide"},co={class:"barContainer"},_o={class:"barRow",id:"midShop"},ho={class:"octagonBar"},uo={class:"title"},mo={class:"bar_title"},vo={class:"bar_address"},go={class:"carousel-control-prev"},po={key:0,src:E},bo=o("div",{class:"col-12 px-5 areaHeading"},[o("h5",null,"南部店家")],-1),So={id:"carouselSouth",class:"carousel slide"},ko={class:"barContainer"},fo={class:"barRow",id:"southShop"},yo={class:"octagonBar"},wo={class:"title"},xo={class:"bar_title"},Co={class:"bar_address"},To={class:"carousel-control-prev"},Po={key:0,src:E},Do=o("div",{id:"page_bottom"},[o("img",{src:J})],-1);function Ho(A,e,y,t,w,x){const g=F("Header"),m=F("router-link");return a(),l(f,null,[k(g),o("main",O,[Q,o("div",U,[o("div",W,[X,Y,o("div",Z,[o("div",$,[o("div",oo,[(a(!0),l(f,null,D(t.northShopData,(s,u)=>(a(),l("div",{class:"barCol",key:u},[k(m,{to:"/detail/"+s.id},{default:H(()=>[o("div",so,[o("div",to,h(s.subtitle),1),o("div",{class:"bar_img",style:B(`background-image: url('/assets/img/shop/${s.id}-1.jpg')`)},null,4),o("div",eo,[o("h5",null,h(s.store_name),1)]),o("div",ao,[o("p",null,"📍"+h(s.store_address),1)])])]),_:2},1032,["to"])]))),128))])]),o("button",lo,[t.northPage>1?(a(),l("img",{key:0,src:N,onClick:e[0]||(e[0]=s=>t.scrollToPrevSlide("northShop"))})):v("",!0)]),o("button",{class:"carousel-control-next",onClick:e[1]||(e[1]=s=>t.scrollToNextSlide("northShop"))},[t.northPage<5?(a(),l("img",no)):v("",!0)])]),ro,o("div",io,[o("div",co,[o("div",_o,[(a(!0),l(f,null,D(t.midShopData,(s,u)=>(a(),l("div",{class:"barCol",key:u},[k(m,{to:"/detail/"+s.id},{default:H(()=>[o("div",ho,[o("div",uo,h(s.subtitle),1),o("div",{class:"bar_img",style:B(`background-image: url('/assets/img/shop/${s.id}-1.jpg')`)},null,4),o("div",mo,[o("h5",null,h(s.store_name),1)]),o("div",vo,[o("p",null,"📍"+h(s.store_address),1)])])]),_:2},1032,["to"])]))),128))])]),o("button",go,[t.midPage>1?(a(),l("img",{key:0,src:N,onClick:e[2]||(e[2]=s=>t.scrollToPrevSlide("midShop"))})):v("",!0)]),o("button",{class:"carousel-control-next",onClick:e[3]||(e[3]=s=>t.scrollToNextSlide("midShop"))},[t.midPage<5?(a(),l("img",po)):v("",!0)])]),bo,o("div",So,[o("div",ko,[o("div",fo,[(a(!0),l(f,null,D(t.northShopData,(s,u)=>(a(),l("div",{class:"barCol",key:u},[k(m,{to:"/detail/"+s.id},{default:H(()=>[o("div",yo,[o("div",wo,h(s.subtitle),1),o("div",{class:"bar_img",style:B(`background-image: url('/assets/img/shop/${s.id}-1.jpg')`)},null,4),o("div",xo,[o("h5",null,h(s.store_name),1)]),o("div",Co,[o("p",null,"📍"+h(s.store_address),1)])])]),_:2},1032,["to"])]))),128))])]),o("button",To,[t.southPage>1?(a(),l("img",{key:0,src:N,onClick:e[4]||(e[4]=s=>t.scrollToPrevSlide("southShop"))})):v("",!0)]),o("button",{class:"carousel-control-next",onClick:e[5]||(e[5]=s=>t.scrollToNextSlide("southShop"))},[t.southPage<5?(a(),l("img",Po)):v("",!0)])])]),Do])])],64)}const Fo=M(K,[["render",Ho]]);export{Fo as default};
