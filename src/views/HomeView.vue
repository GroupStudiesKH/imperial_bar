<script>
import { useRouter, useRoute } from "vue-router";
// mounted
import { onMounted, ref } from "vue";
import Header from "@/components/Header.vue";
import { useI18n } from "vue-i18n";
import apiService from "@/service/api-service.js";
import Bootstrap from "bootstrap/dist/js/bootstrap.bundle";

export default {
  components: {
    Header,
  },
  setup() {
    const router = useRouter();
    const { t, locale } = useI18n();
    const northShopData = ref([]);
    const midShopData = ref([]);
    const southShopData = ref([]);
    const northShopHighlight = ref([1, 3, 5, 7, 9, 12, 15, 18, 21, 24]);
    const midShopHighlight = ref([51, 53, 55, 57, 59, 62, 65, 68, 71, 70]);
    const southShopHighlight = ref([81, 83, 85, 87, 89, 92, 95, 98, 101, 100]);
    const route = useRoute();

    const loadShopData = async () => {
      try {
        const response = await fetch("/data/bar.json"); // У╝ЅтЁЦ JSON ТфћТАѕ
        if (!response.ok) {
          throw new Error("Network response was not ok");
        }
        let data = await response.json(); // т░Є JSON У│ЄТќЎУйЅТЈЏуѓ║жЎБтѕЌ

        northShopData.value = data.filter((item) => item.location == "тїЌжЃе" && northShopHighlight.value.includes(item.id));
        midShopData.value = data.filter((item) => item.location == "СИГжЃе" && midShopHighlight.value.includes(item.id));
        southShopData.value = data.filter((item) => item.location == "тЇЌжЃе" && southShopHighlight.value.includes(item.id));

      } catch (error) {
        console.error("There was a problem with the fetch operation:", error);
      }
    };

    onMounted(() => {
      loadShopData();
    });

    return {
      t,
      locale,
      shopData,
      northShopData,
      midShopData,
      southShopData,
      northShopHighlight,
      midShopHighlight,
      southShopHighlight,
    };
  },
};
</script>

<template>
  <Header />
  <main id="index">
    <div class="container" id="banner"></div>
    <div class="container" id="bars">
      <div class="row">
        <div class="col-12 px-5 topBarTitle">
          <h4>ТюгТюѕСИ╗ТЅЊТўЪт║Ќт«Х</h4>
        </div>
        <div class="col-12 px-5 areaHeading">
          <h5>тїЌжЃет║Ќт«Х</h5>
        </div>
        <div id="carouselNorth" class="carousel slide">
          <div class="carousel-inner barContainer">
            <div class="barRow carousel-item active">
              <div class="barCol">
                <div class="octagonBar">
                  <div class="title">ТеЎжАїТеЎжАїТеЎжАїТеЎжАї</div>
                  <div class="bar_img">
                    <img src="/assets/img/bar_image_example.png" alt="1" />
                  </div>
                  <div class="bar_title">
                    <h5>Pun1</h5>
                  </div>
                  <div class="bar_address">
                    <p>­ЪЊЇтЈ░тїЌтИѓтцДт«ЅтЇђтЏЏТ«х378тии5УЎЪ1ТеЊ</p>
                  </div>
                </div>
              </div>
              <div class="barCol">
                <div class="octagonBar">
                  <div class="title">ТеЎжАїТеЎжАїТеЎжАїТеЎжАї</div>
                  <div class="bar_img">
                    <img src="/assets/img/bar_image_example.png" alt="1" />
                  </div>
                  <div class="bar_title">
                    <h5>Pun2</h5>
                  </div>
                  <div class="bar_address">
                    <p>­ЪЊЇтЈ░тїЌтИѓтцДт«ЅтЇђтЏЏТ«х378тии5УЎЪ1ТеЊ</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="barRow carousel-item">
              <div class="barCol">
                <div class="octagonBar">
                  <div class="title">ТеЎжАїТеЎжАїТеЎжАїТеЎжАї</div>
                  <div class="bar_img">
                    <img src="/assets/img/bar_image_example.png" alt="1" />
                  </div>
                  <div class="bar_title">
                    <h5>Pun</h5>
                  </div>
                  <div class="bar_address">
                    <p>­ЪЊЇтЈ░тїЌтИѓтцДт«ЅтЇђтЏЏТ«х378тии5УЎЪ1ТеЊ</p>
                  </div>
                </div>
              </div>
              <div class="barCol">
                <div class="octagonBar">
                  <div class="title">ТеЎжАїТеЎжАїТеЎжАїТеЎжАї</div>
                  <div class="bar_img">
                    <img src="/assets/img/bar_image_example.png" alt="1" />
                  </div>
                  <div class="bar_title">
                    <h5>Pun</h5>
                  </div>
                  <div class="bar_address">
                    <p>­ЪЊЇтЈ░тїЌтИѓтцДт«ЅтЇђтЏЏТ«х378тии5УЎЪ1ТеЊ</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="barRow carousel-item">
              <div class="barCol">
                <div class="octagonBar">
                  <div class="title">ТеЎжАїТеЎжАїТеЎжАїТеЎжАї</div>
                  <div class="bar_img">
                    <img src="/assets/img/bar_image_example.png" alt="1" />
                  </div>
                  <div class="bar_title">
                    <h5>Pun</h5>
                  </div>
                  <div class="bar_address">
                    <p>­ЪЊЇтЈ░тїЌтИѓтцДт«ЅтЇђтЏЏТ«х378тии5УЎЪ1ТеЊ</p>
                  </div>
                </div>
              </div>
              <div class="barCol">
                <div class="octagonBar">
                  <div class="title">ТеЎжАїТеЎжАїТеЎжАїТеЎжАї</div>
                  <div class="bar_img">
                    <img src="/assets/img/bar_image_example.png" alt="1" />
                  </div>
                  <div class="bar_title">
                    <h5>Pun</h5>
                  </div>
                  <div class="bar_address">
                    <p>­ЪЊЇтЈ░тїЌтИѓтцДт«ЅтЇђтЏЏТ«х378тии5УЎЪ1ТеЊ</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <button
            class="carousel-control-prev"
            type="button"
            data-bs-target="#carouselNorth"
            data-bs-slide="prev"
          >
            <img src="/assets/img/carousel_prev.png" />
          </button>
          <button
            class="carousel-control-next"
            type="button"
            data-bs-target="#carouselNorth"
            data-bs-slide="next"
          >
            <img src="/assets/img/carousel_next.png" />
          </button>
        </div>

        <div class="col-12 px-5 areaHeading">
          <h5>СИГжЃет║Ќт«Х</h5>
        </div>
        <div id="carouselMid" class="carousel slide">
          <div class="carousel-inner barContainer">
            <div class="barRow carousel-item active">
              <div class="barCol">
                <div class="octagonBar">
                  <div class="title">ТеЎжАїТеЎжАїТеЎжАїТеЎжАї</div>
                  <div class="bar_img">
                    <img src="/assets/img/bar_image_example.png" alt="1" />
                  </div>
                  <div class="bar_title">
                    <h5>Pun1</h5>
                  </div>
                  <div class="bar_address">
                    <p>­ЪЊЇтЈ░тїЌтИѓтцДт«ЅтЇђтЏЏТ«х378тии5УЎЪ1ТеЊ</p>
                  </div>
                </div>
              </div>
              <div class="barCol">
                <div class="octagonBar">
                  <div class="title">ТеЎжАїТеЎжАїТеЎжАїТеЎжАї</div>
                  <div class="bar_img">
                    <img src="/assets/img/bar_image_example.png" alt="1" />
                  </div>
                  <div class="bar_title">
                    <h5>Pun2</h5>
                  </div>
                  <div class="bar_address">
                    <p>­ЪЊЇтЈ░тїЌтИѓтцДт«ЅтЇђтЏЏТ«х378тии5УЎЪ1ТеЊ</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="barRow carousel-item">
              <div class="barCol">
                <div class="octagonBar">
                  <div class="title">ТеЎжАїТеЎжАїТеЎжАїТеЎжАї</div>
                  <div class="bar_img">
                    <img src="/assets/img/bar_image_example.png" alt="1" />
                  </div>
                  <div class="bar_title">
                    <h5>Pun</h5>
                  </div>
                  <div class="bar_address">
                    <p>­ЪЊЇтЈ░тїЌтИѓтцДт«ЅтЇђтЏЏТ«х378тии5УЎЪ1ТеЊ</p>
                  </div>
                </div>
              </div>
              <div class="barCol">
                <div class="octagonBar">
                  <div class="title">ТеЎжАїТеЎжАїТеЎжАїТеЎжАї</div>
                  <div class="bar_img">
                    <img src="/assets/img/bar_image_example.png" alt="1" />
                  </div>
                  <div class="bar_title">
                    <h5>Pun</h5>
                  </div>
                  <div class="bar_address">
                    <p>­ЪЊЇтЈ░тїЌтИѓтцДт«ЅтЇђтЏЏТ«х378тии5УЎЪ1ТеЊ</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="barRow carousel-item">
              <div class="barCol">
                <div class="octagonBar">
                  <div class="title">ТеЎжАїТеЎжАїТеЎжАїТеЎжАї</div>
                  <div class="bar_img">
                    <img src="/assets/img/bar_image_example.png" alt="1" />
                  </div>
                  <div class="bar_title">
                    <h5>Pun</h5>
                  </div>
                  <div class="bar_address">
                    <p>­ЪЊЇтЈ░тїЌтИѓтцДт«ЅтЇђтЏЏТ«х378тии5УЎЪ1ТеЊ</p>
                  </div>
                </div>
              </div>
              <div class="barCol">
                <div class="octagonBar">
                  <div class="title">ТеЎжАїТеЎжАїТеЎжАїТеЎжАї</div>
                  <div class="bar_img">
                    <img src="/assets/img/bar_image_example.png" alt="1" />
                  </div>
                  <div class="bar_title">
                    <h5>Pun</h5>
                  </div>
                  <div class="bar_address">
                    <p>­ЪЊЇтЈ░тїЌтИѓтцДт«ЅтЇђтЏЏТ«х378тии5УЎЪ1ТеЊ</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <button
            class="carousel-control-prev"
            type="button"
            data-bs-target="#carouselMid"
            data-bs-slide="prev"
          >
            <img src="/assets/img/carousel_prev.png" />
          </button>
          <button
            class="carousel-control-next"
            type="button"
            data-bs-target="#carouselMid"
            data-bs-slide="next"
          >
            <img src="/assets/img/carousel_next.png" />
          </button>
        </div>

        <div class="col-12 px-5 areaHeading">
          <h5>тЇЌжЃет║Ќт«Х</h5>
        </div>
        <div id="carouselSouth" class="carousel slide">
          <div class="carousel-inner barContainer">
            <div class="barRow carousel-item active">
              <div class="barCol">
                <div class="octagonBar">
                  <div class="title">ТеЎжАїТеЎжАїТеЎжАїТеЎжАї</div>
                  <div class="bar_img">
                    <img src="/assets/img/bar_image_example.png" alt="1" />
                  </div>
                  <div class="bar_title">
                    <h5>Pun1</h5>
                  </div>
                  <div class="bar_address">
                    <p>­ЪЊЇтЈ░тїЌтИѓтцДт«ЅтЇђтЏЏТ«х378тии5УЎЪ1ТеЊ</p>
                  </div>
                </div>
              </div>
              <div class="barCol">
                <div class="octagonBar">
                  <div class="title">ТеЎжАїТеЎжАїТеЎжАїТеЎжАї</div>
                  <div class="bar_img">
                    <img src="/assets/img/bar_image_example.png" alt="1" />
                  </div>
                  <div class="bar_title">
                    <h5>Pun2</h5>
                  </div>
                  <div class="bar_address">
                    <p>­ЪЊЇтЈ░тїЌтИѓтцДт«ЅтЇђтЏЏТ«х378тии5УЎЪ1ТеЊ</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="barRow carousel-item">
              <div class="barCol">
                <div class="octagonBar">
                  <div class="title">ТеЎжАїТеЎжАїТеЎжАїТеЎжАї</div>
                  <div class="bar_img">
                    <img src="/assets/img/bar_image_example.png" alt="1" />
                  </div>
                  <div class="bar_title">
                    <h5>Pun</h5>
                  </div>
                  <div class="bar_address">
                    <p>­ЪЊЇтЈ░тїЌтИѓтцДт«ЅтЇђтЏЏТ«х378тии5УЎЪ1ТеЊ</p>
                  </div>
                </div>
              </div>
              <div class="barCol">
                <div class="octagonBar">
                  <div class="title">ТеЎжАїТеЎжАїТеЎжАїТеЎжАї</div>
                  <div class="bar_img">
                    <img src="/assets/img/bar_image_example.png" alt="1" />
                  </div>
                  <div class="bar_title">
                    <h5>Pun</h5>
                  </div>
                  <div class="bar_address">
                    <p>­ЪЊЇтЈ░тїЌтИѓтцДт«ЅтЇђтЏЏТ«х378тии5УЎЪ1ТеЊ</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="barRow carousel-item">
              <div class="barCol">
                <div class="octagonBar">
                  <div class="title">ТеЎжАїТеЎжАїТеЎжАїТеЎжАї</div>
                  <div class="bar_img">
                    <img src="/assets/img/bar_image_example.png" alt="1" />
                  </div>
                  <div class="bar_title">
                    <h5>Pun</h5>
                  </div>
                  <div class="bar_address">
                    <p>­ЪЊЇтЈ░тїЌтИѓтцДт«ЅтЇђтЏЏТ«х378тии5УЎЪ1ТеЊ</p>
                  </div>
                </div>
              </div>
              <div class="barCol">
                <div class="octagonBar">
                  <div class="title">ТеЎжАїТеЎжАїТеЎжАїТеЎжАї</div>
                  <div class="bar_img">
                    <img src="/assets/img/bar_image_example.png" alt="1" />
                  </div>
                  <div class="bar_title">
                    <h5>Pun</h5>
                  </div>
                  <div class="bar_address">
                    <p>­ЪЊЇтЈ░тїЌтИѓтцДт«ЅтЇђтЏЏТ«х378тии5УЎЪ1ТеЊ</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <button
            class="carousel-control-prev"
            type="button"
            data-bs-target="#carouselSouth"
            data-bs-slide="prev"
          >
            <img src="/assets/img/carousel_prev.png" />
          </button>
          <button
            class="carousel-control-next"
            type="button"
            data-bs-target="#carouselSouth"
            data-bs-slide="next"
          >
            <img src="/assets/img/carousel_next.png" />
          </button>
        </div>
      </div>

      
      <div id="page_bottom">
        <img src="/assets/img/previous.png" />
      </div>
    </div>
  </main>
</template>
